### 写在前面

幸好以前上概率论的时候还有听一些，总不至于全部都要从头来过

---

## 概率论中事件的定义

* 是一个明确界定的试验。
* 在试验之前，这个试验的全部结果就已经明确了。
* 有明确的陈述来界定结果中确定的部分，这部分就是事件。

## 古典概率

局限性在于只能用于全部试验结果为有限个，且等可能性成立的情况。

## 概率的统计定义

一个事件出现的可能性大小，应由在多次重复试验中其出现的频繁程度去刻画。

## 排列组合

$$
A^m_n = n(n-1)(n-2)\ldots(n-m+1) = \frac{n!}{(n-m)!}
$$

$$
C^m_n = (^m_n) = \frac{A^m_n}{m!} = \frac{n!}{m!(n-m)!}
$$

n个相异物件分为k堆，各堆物件分别为r1,…,r2的分法为：
$$
\frac{n!}{(r_1! \ldots r_k!)}
$$

## 条件概率

$$
P(A|B) = \frac{P(AB)}{P(B)}
$$

在给定B发生的条件下A的条件概率，P(B)不能为0

## 全概率公式

$$
P(A)  = P(B_1)P(A|B_1) + P(B_2)P(A|B_2) + \ldots
$$

全部概率P(A)被分解成了许多部分之和，实际作用在于在复杂的情况下直接计算P(A)不容易，但是A总是随着某个B出现，所以可以选择去构造这一系列的B来得到最后的A。

## 贝叶斯公式

$$
P(B_i|A) = \frac{P(AB_i)}{P(A)} = \frac{P(B_i)P(A|B_i)}{\sum_{k}P(B_k)P(A|B_k)}
$$

可以理解成其作用与全概率公式刚好相反，这里类似由结果推回原因，就是通过全部的A概率求出那一个B的概率。

## 个人觉得有意思的题

* 甲乙两人进行赌博，每人的胜率都均等，赌资共为1000，约定五局三胜，现游戏进行到甲胜了两局，乙胜了一局，赌局需终止，问怎么分赌资才公平。

  按现在的情况分吗？甲赢两局，乙赢一局，那就甲拿666，乙拿333吗。其实不对，因为把剩下两局的全事件为：甲甲，甲乙，乙甲，乙乙，这其中甲是占了75%的，所以最后应该按75%去拿钱，或者换个方向去想，乙剩下两场必须都要赢，也就是1/2 * 1/2 = 1/4 = 25%概率获胜，所以乙应该只能拿25%。

* 甲乙进行游戏，甲胜概率为a，乙胜概率为b，无和局情况，也就是说a+b=1。现假设因为甲胜概率比乙胜概率高，也就是a>b，则约定胜利规则为，甲连胜三场且在此之前乙没有连胜两场，算甲胜，反之同理，在甲连胜三场前乙连胜两场，算乙胜。现在求甲胜概率P(A)。

  需要分两种情况进行分析，第一种情况是第一局甲胜的情况下，甲最终获胜。在这个前提下，甲可以经过n个阶段的AB或者AAB，最后来一个AAA结束。那么前面的那个阶段是互斥且独立，那么就可以表达为ab+aab=ab(1+a)，然后最终来一个AAA的情况，就是乘上aaa。
  $$
  p_1 = a^3\sum_{n=0}^{n}[ab(1+a)]^n
  $$
  需要注意的是，这个n个互相是互斥的，所以
  $$
  \sum_{n=0}^{n}[ab(1+a)]^n = \frac{1}{1-ab(1+a)}
  $$
  那么最终的表达就是
  $$
  p_1 = a^3/(1-ab[1+a])
  $$
  第二种情况就是第一局乙胜的情况下，甲最终获胜。要注意的是，既然第一局乙胜，则第二局必然是甲胜，那么我们以第二局为起点开始看，又回到了情况1，只不过这里要加上多一种获胜情况就是BAAA，所以就是
  $$
  p_1 = a^3(1+b)/(1-ab[1+a])
  $$

* 假设某种病菌在人群中的带菌率为0.03，但由于技术不完善，在检查会有误判，具体概率为：

  P(阳性|带菌)=0.99，P(阴性|带菌)=0.01

  P(阳性|不带菌)=0.05，P(阴性|不带菌)=0.95

  现假设某个人被检验到阳性，问他带菌的可能性为多少。

  问题所求就是P(带菌|阳性)，用贝叶斯公式来求，就是：
  $$
  P(带菌|阳性) = \frac{P(带菌)P(阳性|带菌)}{P(带菌)P(阳性|带菌) + P(不带菌)P(阳性|不带菌)}
  $$
  最后求出的结果为0.38，也就是说就算是检测到阳性也只有不到40%的概率带菌。

  一下子好像不能接受，我们可以尝试这么理解，带菌是占总样本的很小很小一部分，而检测出来的概率并不是根据总体，而是根据那小部分。

